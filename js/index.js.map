{"version":3,"sources":["webpack:///js/index.js","webpack:///./src/index.js","webpack:///./src/assets/chat.js","webpack:///./src/assets/reza2.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js"],"names":["webpackJsonp","module","exports","__webpack_require__","prependMsg","usr","msg","$","prepend","attr","text","sendMsg","Chatv","Bmob","Object","extend","line","set","save","success","console","log","error","getAll","Query","find","re","i","length","get","pingdot","css","setTimeout","initialize","BmobSocketIo","updateTable","onUpdateTable","tablename","data","window","onload","click","val","toString","reza2","init","resize","Vector","x","y","this","_classCallCheck2","_classCallCheck3","obj","__esModule","default","cav","painter","bufferCvs","bufferCtx","particles","gravities","prototype","width","innerWidth","height","innerHeight","getContext","document","querySelector","createElement","push","Particle","random","Graviticle","loop","beginPath","clearRect","closePath","restore","globalCompositeOperation","globalAlpha","fillRect","lineWidth","strokeStyle","lineCap","lineJoin","p","g","akm","addSpeed","sub","update","moveTo","lineTo","lx","ly","stroke","fillStyle","arc","Math","PI","fill","drawImage","m","sqrt","_ref","_ref2","mass","vx","vy","t","AKM","shm","dt","sin","cos","add","ax","ay","dvx","dvy","_r","k","addxy","_ref3","v","scale","s","normalize","_ref4","instance","Constructor","TypeError"],"mappings":"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","file":"js/index.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(2);\n\n__webpack_require__(3);\n\n__webpack_require__(4);\n\n__webpack_require__(5);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nBmob.initialize(\"fc8725065ae9442ecf60f048b2b57058\", \"a7c75bd62a6e7e1ec4b73d7f580aafb0\");\nBmobSocketIo.initialize(\"fc8725065ae9442ecf60f048b2b57058\");\nBmobSocketIo.updateTable(\"chatv2018\");\nBmobSocketIo.onUpdateTable = function (tablename, data) {\n  console.log(\"updata\");\n  if (tablename == \"chatv2018\") {\n    var usr = data.usr ? data.usr : \"无名毛玉\";\n    var msg = data.msg;\n    console.log(usr + \":\" + msg);\n    prependMsg(usr, msg);\n    pingdot();\n  }\n};\nfunction prependMsg(usr, msg) {\n  $(\"#keri\").prepend($(\"<div>\").attr(\"class\", \"name\").text(usr), $(\"<div>\").attr(\"class\", \"content\").text(msg));\n}\nfunction sendMsg(usr, msg) {\n  var Chatv = Bmob.Object.extend(\"chatv2018\");\n  var line = new Chatv();\n  line.set(\"usr\", usr);\n  line.set(\"msg\", msg);\n  line.save(null, {\n    success: function success() {\n      return console.log(\"send ok\");\n    },\n    error: function error() {\n      return console.log(\"send failed\");\n    }\n  });\n}\nfunction getAll() {\n  var Chatv = Bmob.Object.extend(\"chatv2018\");\n  var lines = new Bmob.Query(Chatv);\n  lines.find({\n    success: function success(re) {\n      for (var i = 0; i < re.length; i++) {\n        var usr = re[i].get(\"usr\") ? re[i].get(\"usr\") : \"无名毛玉\";\n        var msg = re[i].get(\"msg\");\n        console.log(usr + \":\" + msg);\n        prependMsg(usr, msg);\n        //document.querySelector(\"#lines\").innerHTML+=line;\n      }\n    },\n    error: function error() {\n      return console.log(\"error\");\n    }\n  });\n}\nfunction pingdot() {\n  $(\"#dot\").css(\"background\", \"red\");\n  setTimeout('$(\"#dot\").css(\"background\",\"#6cf\")', 2141);\n}\nwindow.sendMsg = function () {\n  return sendMsg();\n};\nwindow.getAll = function () {\n  return getAll();\n};\nwindow.onload = function () {\n  getAll();\n  $(\"#kire .r\").click(function () {\n    sendMsg($(\"#kire .l\").val().toString(), $(\"#kire .c\").val().toString());\n    $(\"#kire .c\").val(\"\");\n  });\n  reza2.init();\n  $(window).resize(function () {\n    reza2.resize();\n  });\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _classCallCheck2 = __webpack_require__(6);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar reza2 = function () {\n  function reza2() {\n    (0, _classCallCheck3.default)(this, reza2);\n    this.cav = 0;\n    this.painter = 0;\n    this.bufferCvs = 0;\n    this.bufferCtx = 0;\n    this.x = 0;\n    this.y = 0;\n    this.val = {\n      particles: [],\n      gravities: []\n    };\n  }\n\n  reza2.prototype.resize = function resize() {\n    $(this.cav).attr({ \"width\": window.innerWidth, \"height\": window.innerHeight });\n    $(this.bufferCvs).attr({ \"width\": window.innerWidth, \"height\": window.innerHeight });\n    this.painter = this.cav.getContext(\"2d\");\n    this.bufferCtx = this.bufferCvs.getContext(\"2d\");\n  };\n\n  reza2.prototype.init = function init() {\n    this.cav = document.querySelector(\"#cav\");\n    this.bufferCvs = document.createElement('canvas');\n    this.resize();\n    for (var i = 0; i < 500; i++) {\n      this.val.particles.push(Particle.random());\n    }this.val.gravities.push(new Graviticle(3 * window.innerWidth / 4, 3 * window.innerHeight / 4, 0.1));\n    this.loop();\n    return 0;\n  };\n\n  reza2.prototype.loop = function loop() {\n    this.painter.save();\n    this.painter.beginPath();\n    this.painter.clearRect(0, 0, window.innerWidth, window.innerHeight);\n    this.painter.closePath();\n    this.painter.restore();\n\n    this.bufferCtx.save();\n    this.bufferCtx.beginPath();\n    this.bufferCtx.globalCompositeOperation = 'destination-out';\n    this.bufferCtx.globalAlpha = 0.1;\n    this.bufferCtx.fillRect(0, 0, window.innerWidth, window.innerHeight);\n    this.bufferCtx.closePath();\n    this.bufferCtx.restore();\n\n    this.bufferCtx.save();\n    this.bufferCtx.lineWidth = 2;\n    this.bufferCtx.strokeStyle = \"#6cf\";\n    this.bufferCtx.lineCap = this.bufferCtx.lineJoin = 'round';\n    this.bufferCtx.beginPath();\n    for (var p in this.val.particles) {\n      p = this.val.particles[p];\n      for (var g in this.val.gravities) {\n        g = this.val.gravities[g];\n        p.akm.addSpeed(Vector.sub(g, p));\n      }\n      p.akm.update(1);\n      this.bufferCtx.moveTo(~~p.x, ~~p.y);\n      this.bufferCtx.lineTo(~~p.lx, ~~p.ly);\n    }\n    this.bufferCtx.stroke();\n    this.bufferCtx.closePath();\n\n    this.bufferCtx.fillStyle = \"#6cf\";\n    this.bufferCtx.lineWidth = 0;\n    this.bufferCtx.beginPath();\n    for (var p in this.val.particles) {\n      p = this.val.particles[p];\n      this.bufferCtx.moveTo(~~p.x, ~~p.y);\n      this.bufferCtx.arc(~~p.x, ~~p.y, 1, 0, Math.PI * 2, false);\n    }\n    this.bufferCtx.fill();\n    this.bufferCtx.closePath();\n    this.bufferCtx.restore();\n    this.painter.beginPath();\n    this.painter.drawImage(this.bufferCvs, 0, 0);\n    this.painter.closePath();\n    setTimeout(\"reza2.loop()\", 10);\n  };\n\n  return reza2;\n}();\n\n;\nfunction Vector(x, y) {\n  this.x = x;\n  this.y = y;\n  return this;\n}\nVector.sub = function (g, p) {\n  var x = g.x - p.x;\n  var y = g.y - p.y;\n  var m = Math.sqrt(x * x + y * y);\n  if (m) {\n    var _ref = [x / m, y / m];\n    x = _ref[0];\n    y = _ref[1];\n  }\n  var _ref2 = [x * g.mass, y * g.mass];\n  x = _ref2[0];\n  y = _ref2[1];\n\n  return new Vector(x, y);\n};\nParticle = function Particle(x, y, vx, vy, mass) {\n  this.x = x;\n  this.y = y;\n  this.vx = vx;\n  this.vy = vy;\n  this.mass = mass;\n  this.t = 0;\n  this.akm = new AKM(this);\n};\nParticle.random = function () {\n  return new Particle(window.innerWidth * Math.random() / 2 + window.innerWidth / 4, window.innerHeight * Math.random() / 2 + window.innerHeight / 4, Math.random() * 2 - 1, Math.random() * 2 - 1, 1);\n};\nParticle.prototype.shm = function (dt) {\n  this.t += dt;\n  this.x = Math.sin(this.t) * 400 + window.innerWidth / 2;\n  this.y = Math.cos(this.t) * 400 + window.innerHeight / 2;\n};\nParticle.prototype.add = function (ax, ay, t) {\n  var dvx = ax * t;\n  this.vx += dvx;\n  var dvy = ay * t;\n  this.vy += dvy;\n  this.x = this.x + this.vx * t;\n  this.y = this.y + this.vy * t;\n};\n\nvar AKM = function () {\n  function AKM(_r) {\n    (0, _classCallCheck3.default)(this, AKM);\n\n    this.k = _r;\n  }\n\n  AKM.prototype.log = function log() {};\n\n  AKM.prototype.addxy = function addxy(t) {\n    var _ref3 = [this.k.x, this.k.y];\n    this.k.lx = _ref3[0];\n    this.k.ly = _ref3[1];\n\n    this.k.x += this.k.vx * t;\n    this.k.y += this.k.vy * t;\n  };\n\n  AKM.prototype.addSpeed = function addSpeed(v) {\n    this.k.vx += v.x;\n    this.k.vy += v.y;\n  };\n\n  AKM.prototype.scale = function scale(s) {\n    this.k.vx *= s;\n    this.k.vy *= s;\n  };\n\n  AKM.prototype.normalize = function normalize() {\n    var m = Math.sqrt(this.k.vx * this.k.vx + this.k.vy * this.k.vy);\n    if (m) {\n      this.k.vx /= m;\n      this.k.vy /= m;\n    }\n  };\n\n  AKM.prototype.v = function v() {\n    return Math.sqrt(this.k.vx * this.k.vx + this.k.vy + this.k.vy);\n  };\n\n  AKM.prototype.update = function update(t) {\n    if (this.v() > 12) {\n      this.normalize();\n      this.scale(12);\n    }\n    this.addxy(t);\n  };\n\n  return AKM;\n}();\n\n;\nGraviticle = function Graviticle(x, y, mass) {\n  var _ref4 = [x, y, mass];\n  this.x = _ref4[0];\n  this.y = _ref4[1];\n  this.mass = _ref4[2];\n};\nwindow.reza2 = new reza2();\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n/***/ })\n],[0]);\n\n\n// WEBPACK FOOTER //\n// js/index.js","import './assets/common.less';\nimport './assets/index.less';\nimport './assets/chat.js';\nimport './assets/reza2.js';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","Bmob.initialize(\"fc8725065ae9442ecf60f048b2b57058\",\"a7c75bd62a6e7e1ec4b73d7f580aafb0\");\r\nBmobSocketIo.initialize(\"fc8725065ae9442ecf60f048b2b57058\");\r\nBmobSocketIo.updateTable(\"chatv2018\");\r\nBmobSocketIo.onUpdateTable=function(tablename,data){\r\n  console.log(\"updata\");\r\n  if(tablename==\"chatv2018\"){\r\n    var usr=data.usr?data.usr:\"无名毛玉\";\r\n    var msg=data.msg;\r\n    console.log(usr+\":\"+msg);\r\n    prependMsg(usr,msg);\r\n    pingdot();\r\n  }\r\n}\r\nfunction prependMsg(usr,msg){\r\n  $(\"#keri\").prepend(\r\n    $(\"<div>\").attr(\"class\",\"name\").text(usr),\r\n    $(\"<div>\").attr(\"class\",\"content\").text(msg)\r\n  );\r\n}\r\nfunction sendMsg(usr,msg){\r\n  var Chatv=Bmob.Object.extend(\"chatv2018\");\r\n  var line=new Chatv();\r\n  line.set(\"usr\",usr);\r\n  line.set(\"msg\",msg);\r\n  line.save(null,{\r\n    success:()=>console.log(\"send ok\")\r\n    ,error:()=>console.log(\"send failed\")\r\n  });\r\n}\r\nfunction getAll(){\r\n  var Chatv=Bmob.Object.extend(\"chatv2018\");\r\n  var lines=new Bmob.Query(Chatv);\r\n  lines.find({\r\n    success:(re)=>{\r\n      for(let i=0;i<re.length;i++){\r\n        var usr=re[i].get(\"usr\")?re[i].get(\"usr\"):\"无名毛玉\";\r\n        var msg=re[i].get(\"msg\");\r\n        console.log(usr+\":\"+msg);\r\n        prependMsg(usr,msg);\r\n        //document.querySelector(\"#lines\").innerHTML+=line;\r\n    }},\r\n    error:()=>console.log(\"error\")\r\n    })\r\n}\nfunction pingdot(){\n  $(\"#dot\").css(\"background\",\"red\");\n  setTimeout('$(\"#dot\").css(\"background\",\"#6cf\")',2141);\n}\nwindow.sendMsg=()=>sendMsg();\r\nwindow.getAll=()=>getAll();\r\nwindow.onload=()=>{\r\n  getAll();\r\n  $(\"#kire .r\").click(function(){\r\n    sendMsg(\r\n      $(\"#kire .l\").val().toString(),\r\n      $(\"#kire .c\").val().toString()\r\n    );\r\n    $(\"#kire .c\").val(\"\");\r\n  });\r\n  reza2.init();\r\n  $(window).resize(function(){\r\n    reza2.resize();\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/chat.js","class reza2{\r\n  cav=0;\r\n  painter=0;\r\n  bufferCvs=0;\r\n  bufferCtx=0;\r\n  x=0;\r\n  y=0;\r\n  val={\r\n    particles:[],\r\n    gravities:[],\r\n  };\r\n  resize(){\r\n    $(this.cav).attr({\"width\":window.innerWidth,\"height\":window.innerHeight});\r\n    $(this.bufferCvs).attr({\"width\":window.innerWidth,\"height\":window.innerHeight});\r\n    this.painter=this.cav.getContext(\"2d\");\r\n    this.bufferCtx=this.bufferCvs.getContext(\"2d\");\r\n  }\r\n  init(){\r\n    this.cav=document.querySelector(\"#cav\");\r\n    this.bufferCvs=document.createElement('canvas');\r\n    this.resize();\r\n    for(var i=0;i<500;i++)\r\n      this.val.particles.push(Particle.random());\r\n    this.val.gravities.push(new Graviticle(3*window.innerWidth/4,3*window.innerHeight/4,0.1));\r\n    this.loop();\r\n    return 0;\r\n  }\r\n  loop(){\r\n    this.painter.save();\r\n    this.painter.beginPath();\r\n    this.painter.clearRect(0,0,window.innerWidth,window.innerHeight);\r\n    this.painter.closePath();\r\n    this.painter.restore();\r\n\r\n    this.bufferCtx.save();\r\n    this.bufferCtx.beginPath();\r\n    this.bufferCtx.globalCompositeOperation = 'destination-out';\r\n    this.bufferCtx.globalAlpha = 0.1;\r\n    this.bufferCtx.fillRect(0, 0, window.innerWidth, window.innerHeight);\r\n    this.bufferCtx.closePath();\r\n    this.bufferCtx.restore();\r\n\r\n    this.bufferCtx.save();\r\n    this.bufferCtx.lineWidth=2;\r\n    this.bufferCtx.strokeStyle=\"#6cf\";\r\n    this.bufferCtx.lineCap = this.bufferCtx.lineJoin = 'round';\r\n    this.bufferCtx.beginPath();\r\n    for(var p in this.val.particles){\r\n      p=this.val.particles[p];\r\n      for(var g in this.val.gravities){\r\n        g=this.val.gravities[g];\r\n        p.akm.addSpeed(Vector.sub(g,p));\r\n      }\r\n      p.akm.update(1);\r\n      this.bufferCtx.moveTo(~~p.x,~~p.y);\r\n      this.bufferCtx.lineTo(~~p.lx,~~p.ly);\r\n    }\r\n    this.bufferCtx.stroke();\r\n    this.bufferCtx.closePath();\r\n\r\n    this.bufferCtx.fillStyle=\"#6cf\";\r\n    this.bufferCtx.lineWidth=0;\r\n    this.bufferCtx.beginPath();\r\n    for(var p in this.val.particles){\r\n      p=this.val.particles[p];\r\n      this.bufferCtx.moveTo(~~p.x,~~p.y);\r\n      this.bufferCtx.arc(~~p.x,~~p.y,1,0,Math.PI*2,false);\r\n    }\r\n    this.bufferCtx.fill();\r\n    this.bufferCtx.closePath();\r\n    this.bufferCtx.restore();\r\n    this.painter.beginPath();\r\n    this.painter.drawImage(this.bufferCvs,0,0);\r\n    this.painter.closePath();\r\n    setTimeout(\"reza2.loop()\",10);\r\n  }\r\n};\r\nfunction Vector(x,y){\r\n  this.x=x;\r\n  this.y=y;\r\n  return this;\r\n}\r\nVector.sub=function(g,p){\r\n  var x=g.x-p.x;\r\n  var y=g.y-p.y;\r\n  var m=Math.sqrt(x*x+y*y);\r\n  if(m){\r\n    [x,y]=[x/m,y/m];\r\n  }\r\n  [x,y]=[x*g.mass,y*g.mass];\r\n  return new Vector(x,y);\r\n}\r\nParticle=function(x,y,vx,vy,mass){\r\n  this.x=x;\r\n  this.y=y;\r\n  this.vx=vx;\r\n  this.vy=vy;\r\n  this.mass=mass;\r\n  this.t=0;\r\n  this.akm=new AKM(this);\r\n};\r\nParticle.random=function(){\r\n  return new Particle(\r\n    window.innerWidth*Math.random()/2+window.innerWidth/4,\r\n    window.innerHeight*Math.random()/2+window.innerHeight/4,\r\n    Math.random()*2-1,\r\n    Math.random()*2-1,\r\n    1\r\n  );\r\n}\r\nParticle.prototype.shm=function(dt){\r\n  this.t+=dt;\r\n  this.x=Math.sin(this.t)*400+window.innerWidth/2;\r\n  this.y=Math.cos(this.t)*400+window.innerHeight/2;\r\n};\r\nParticle.prototype.add=function(ax,ay,t){\r\n  var dvx=ax*t;\r\n  this.vx+=dvx;\r\n  var dvy=ay*t;\r\n  this.vy+=dvy;\r\n  this.x=this.x+this.vx*t;\r\n  this.y=this.y+this.vy*t;\r\n};\r\nclass AKM{\r\n  constructor(_r){\r\n    this.k=_r;\r\n  }\r\n  log(){\r\n  }\r\n  addxy(t){\r\n    [this.k.lx,this.k.ly]=[this.k.x,this.k.y];\r\n    this.k.x+=this.k.vx*t;\r\n    this.k.y+=this.k.vy*t;\r\n  }\r\n  addSpeed(v){\r\n    this.k.vx+=v.x;\r\n    this.k.vy+=v.y;\r\n  }\r\n  scale(s){\r\n    this.k.vx*=s;\r\n    this.k.vy*=s;\r\n  }\r\n  normalize(){\r\n    var m=Math.sqrt(this.k.vx*this.k.vx+this.k.vy*this.k.vy);\r\n    if(m){\r\n      this.k.vx/=m;\r\n      this.k.vy/=m;\r\n    }\r\n  }\r\n  v(){\r\n    return Math.sqrt(this.k.vx*this.k.vx+this.k.vy+this.k.vy);\r\n  }\r\n  update(t){\r\n    if(this.v()>12){\r\n      this.normalize();\r\n      this.scale(12);\r\n    }\r\n    this.addxy(t);\r\n  }\r\n};\r\nGraviticle=function(x,y,mass){\r\n  [this.x,this.y,this.mass]=[x,y,mass];\r\n}\r\nwindow.reza2=new reza2();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/reza2.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}